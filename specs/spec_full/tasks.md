# 实施计划

- [1]. 错题选择与输入打包  
— 实现前端错题选择弹窗，支持班级/考试/学生过滤与 Top N 校验  
— 后端提供 `/demo/mistakes/top-candidates` 接口聚合错题数据并返回摘要  
— 需求: 需求 1  

- [2]. LLM 分析服务封装  
— 在 `services/llm.py` 中新增错题分析调用封装与 Mock 支持  
— 实现 `/demo/mistakes/analysis` 接口，构造提示词并写入 `mistake_analysis` 表  
— 需求: 需求 2  

- [3]. 分析结果展示与导出  
— 前端增加分析结果页面，渲染共性描述、知识点建议、追问建议  
— 实现“复制摘要”“导出 Markdown”操作  
— 需求: 需求 3  

- [4]. 追问对话与上下文管理  
— 后端实现 `/demo/mistakes/analysis/{id}/followups` 接口与上下文裁剪逻辑  
— 前端加入追问输入框、推荐问题按钮、对话历史展示  
— 需求: 需求 4  

- [5]. 历史记录与复用  
— 新增历史列表接口与前端页面，展示分析摘要与操作人  
— 实现“复用此分析”功能，将条件回填至错题选择弹窗  
— 需求: 需求 5  
